<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Suna-Lite - Autonomous AI Agent</title>
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="chat.css">
</head>
<body>
    <div class="app-container">
        <!-- Mobile Header -->
        <header class="mobile-header">
            <button class="menu-toggle" id="menu-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <h1 class="app-title">Suna-Lite</h1>
            <button class="new-chat-btn-mobile" onclick="clearChat()" aria-label="New chat">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </button>
        </header>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">
                    <span class="logo">ü§ñ</span>
                    <div>
                        <h2>Suna-Lite</h2>
                        <p>Autonomous AI Agent</p>
                    </div>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <button class="new-chat-btn" onclick="clearChat()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    New Chat
                </button>

                <div class="nav-section">
                    <h3>Capabilities</h3>
                    <div class="capability-grid">
                        <div class="capability-item" data-tooltip="Web Search">
                            <span>üîç</span>
                            <span>Search</span>
                        </div>
                        <div class="capability-item" data-tooltip="Code Execution">
                            <span>üíª</span>
                            <span>Code</span>
                        </div>
                        <div class="capability-item" data-tooltip="File Analysis">
                            <span>üìÑ</span>
                            <span>Files</span>
                        </div>
                        <div class="capability-item" data-tooltip="Vision">
                            <span>üëÅÔ∏è</span>
                            <span>Vision</span>
                        </div>
                        <div class="capability-item" data-tooltip="Data Analysis">
                            <span>üìä</span>
                            <span>Data</span>
                        </div>
                        <div class="capability-item" data-tooltip="Multi-Step Tasks">
                            <span>üîÑ</span>
                            <span>Tasks</span>
                        </div>
                    </div>
                </div>

                <div class="nav-section">
                    <h3>Recent</h3>
                    <div class="history-list" id="history-list">
                        <!-- Dynamic history items -->
                    </div>
                </div>
            </nav>

            <div class="sidebar-footer">
                <button class="settings-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"></path>
                    </svg>
                    Settings
                </button>
            </div>
        </aside>

        <!-- Overlay -->
        <div class="overlay" id="overlay"></div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Chat Container -->
            <div class="chat-container">
                <!-- Welcome Screen -->
                <div class="welcome-screen" id="welcome-screen">
                    <div class="welcome-content">
                        <div class="welcome-icon">ü§ñ</div>
                        <h1>Welcome to Suna-Lite</h1>
                        <p>Your autonomous AI assistant with advanced multi-step reasoning and tool execution capabilities</p>
                        
                        <div class="capabilities-showcase">
                            <div class="capability-card">
                                <div class="capability-icon">üîç</div>
                                <h3>Web Search</h3>
                                <p>Real-time information access</p>
                            </div>
                            <div class="capability-card">
                                <div class="capability-icon">üíª</div>
                                <h3>Code Execution</h3>
                                <p>Python & data analysis</p>
                            </div>
                            <div class="capability-card">
                                <div class="capability-icon">üìÑ</div>
                                <h3>File Analysis</h3>
                                <p>Documents & images</p>
                            </div>
                            <div class="capability-card">
                                <div class="capability-icon">üëÅÔ∏è</div>
                                <h3>Vision</h3>
                                <p>Image understanding</p>
                            </div>
                        </div>

                        <div class="quick-starters">
                            <h3>Try these:</h3>
                            <div class="suggestion-chips">
                                <button class="suggestion-chip" onclick="useSuggestion(this)">What's Bitcoin's current price?</button>
                                <button class="suggestion-chip" onclick="useSuggestion(this)">Analyze this dataset</button>
                                <button class="suggestion-chip" onclick="useSuggestion(this)">Calculate compound interest</button>
                                <button class="suggestion-chip" onclick="useSuggestion(this)">Latest AI news</button>
                                <button class="suggestion-chip" onclick="useSuggestion(this)">Explain quantum computing</button>
                                <button class="suggestion-chip" onclick="useSuggestion(this)">Generate a plot</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Messages Area -->
                <div class="messages-area" id="chat-messages">
                    <!-- Messages will be dynamically added here -->
                </div>

                <!-- Typing Indicator -->
                <div class="typing-indicator" id="typing-indicator">
                    <div class="typing-content">
                        <div class="typing-dots">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        <span id="typing-text">Thinking...</span>
                    </div>
                </div>
            </div>

            <!-- Input Area - Fixed at bottom -->
            <div class="input-area">
                <div class="input-container">
                    <!-- File Upload Preview -->
                    <div class="file-preview" id="file-preview"></div>
                    
                    <div class="input-wrapper">
                        <input type="file" id="file-input" multiple accept="*/*" style="display: none;">
                        
                        <button class="attach-btn" onclick="document.getElementById('file-input').click()" 
                                aria-label="Attach files">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
                            </svg>
                        </button>
                        
                        <div class="input-field">
                            <textarea 
                                id="user-input"
                                placeholder="Message Suna-Lite..."
                                rows="1"
                                autofocus
                            ></textarea>
                            <button id="send-button" class="send-btn" aria-label="Send message">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div class="input-footer">
                        <span class="input-hint">Press Enter to send, Shift + Enter for new line</span>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <script src="chat.js"></script>
</body>
</html>
